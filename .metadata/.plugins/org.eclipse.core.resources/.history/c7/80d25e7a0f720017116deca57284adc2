package adri.logviewermain.model;

import java.time.LocalDate;

import adri.logviewermain.util.StringUtil;

public class Permission extends BaseModel{
	
	private PermissionType permission;
	private LocalDate dateAjout = LocalDate.now();
	
	public Permission(){}
	public Permission(int id){
		this.setId(id);
	}
	public Permission(PermissionType permission){
		this.setPermission(permission);
	}
	public Permission(PermissionType permission, LocalDate dateAjout) {
		this.setPermission(permission);
		this.setDateAjout(dateAjout);
	}
	
	public PermissionType getPermission() {
		return permission;
	}
	public void setPermission(PermissionType permission) {
		this.permission = permission;
	}
	public void setPermission(String permission) {
		setPermission(PermissionType.valueOf(permission));
	}
	
	public LocalDate getDateAjout() {
		return dateAjout;
	}
	public String getDateAjoutString() {
		return StringUtil.getInstance().getLocalDateString(getDateAjout());
	}
	public void setDateAjout(LocalDate dateAjout) {
		this.dateAjout = dateAjout;
	}
	@Override
	public boolean equals(Object obj) {
		if(obj instanceof Permission){
			Permission value = (Permission)obj;
			return this.getPermission().equals(value.getPermission());
		}
		return false;
	}
	@Override
	public int hashCode() {
	    return this.getPermission().hashCode();
	}
	@Override
	public String toString() {
		return "[" + super.toString() + ", " + this.getPermission() +
				 "]";
	}
	@Override
	public String instance() {
		return getClass().getSuperclass().getSimpleName();
	}
}
