package adri.logviewer.agent.server;

import java.util.List;

import org.apache.mina.core.session.IoSession;
import org.apache.mina.filter.codec.ProtocolEncoderAdapter;
import org.apache.mina.filter.codec.ProtocolEncoderOutput;
import org.apache.mina.filter.codec.serialization.ObjectSerializationEncoder;

import adri.logviewer.agent.file.LogFile;

public class LogFileEncoder extends ProtocolEncoderAdapter{

	@Override
	public void encode(IoSession session, Object message, ProtocolEncoderOutput out) throws Exception {
		List<LogFile> liste = (List<LogFile>)message;
		if(liste.size() > 1){
			new ObjectSerializationEncoder().encode(session, message, out);
			return;
		}
		else if(liste.size() == 1){
			LogFile f = liste.get(0);
			
		}		
	}
}
