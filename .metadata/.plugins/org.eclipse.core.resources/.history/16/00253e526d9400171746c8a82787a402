<%@page import="adri.logviewer.filemanager.Log"%>
<%@page import="adri.logviewer.filemanager.Fichier"%>
<%@page import="java.io.File"%>
<%@ include file="../includes/header.jsp" %>
<% 
	String fileName = (String)request.getAttribute("file");
	Fichier file = (Fichier)request.getAttribute("fichier");
%>
            <div class="container-fluid">
				<div class="row bg-title">
				    <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
				        <h4 class="page-title">Fichiers</h4>
				    </div>
				    <div class="col-lg-9 col-sm-8 col-md-8 col-xs-12">
				        <ol class="breadcrumb">
                            <li><a href="${pageContext.request.contextPath}">Log Viewer</a></li>
				            <li class="active"><a href="${pageContext.request.contextPath}/Fichier">Fichiers</a></li>
				        </ol>
				    </div>
				    <!-- /.col-lg-12 -->
				</div>
				<div class="row">
				    <div class="col-md-12">
				        <div class="white-box">
							<a class="pull-right btn btn-success" href="${pageContext.request.contextPath}/Fichier/parse?file=<% out.print(fileName); %>"><i class="fa fa-download fw"></i> Parser le fichier</a>
							<a class="pull-right btn btn-success" href="${pageContext.request.contextPath}/Fichier/download?file=<% out.print(fileName); %>"><i class="fa fa-download fw"></i> Télécharger le fichier</a>
							<h3 class="box-title">
								<i class="fa fa-text-file-o" aria-hidden="true"></i> <% out.print(file); %>
							</h3>
							<p class="text-muted">Syntaxe : <% out.print(file.getMainPattern()); %>	
							</p>
							<hr class="m-t-0 m-b-20">
							<div class="row">
								<div class="col-sm-12">	
								<iframe src="${pageContext.request.contextPath}/Fichier/download?file=<% out.print(fileName); %>">
								</iframe>
								</div>
				           </div>
				        </div>
				    </div>
				</div>
            </div>
            <!-- /.container-fluid -->
<%@ include file="../includes/footer.jsp" %>