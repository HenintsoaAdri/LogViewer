<%@page import="adri.logviewermain.filemanager.Fichier"%>
<%@page import="java.io.File"%>
<%@ include file="../includes/header.jsp" %>
<% 
	String fileString = (String)request.getAttribute("fileString");
	Fichier file = (Fichier)request.getAttribute("fichier");
%>
            <div class="container-fluid">
				<div class="row bg-title">
				    <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
				        <h4 class="page-title">Fichiers</h4>
				    </div>
				    <div class="col-lg-9 col-sm-8 col-md-8 col-xs-12">
				        <ol class="breadcrumb">
                            <li><a href="${pageContext.request.contextPath}">Log Viewer</a></li>
				            <li class="active">Fichiers</li>
				        </ol>
				    </div>
				    <!-- /.col-lg-12 -->
				</div>
				<div class="row">
				    <div class="col-md-12">
				        <div class="white-box">
							<h3 class="box-title">Fichiers</h3>
							<p class="text-muted">Fichiers enregistrés</p>
							<hr class="m-t-0 m-b-20">
							<div class="row">
								<div class="col-sm-12">
									<h3 class="box-title">
										<% out.print(fileString); %>
									</h3>									
		                            <div class="table-responsive">
		                            <%  if(file == null || file.getListeLog() == null || pagination.getListe().isEmpty()){%>
		                    		<p class="text-danger">Aucun agent enregistré</p>
		                    		<%  }else{ %>
		                                <table class="table">
		                                    <thead>
		                                        <tr>
		                                            <th>#</th>
		                                            <th>Nom</th>
		                                            <th>Adresse</th>
		                                            <th>Port</th>
		                                            <th>Répertoire</th>
		                                            <th></th>
		                                        </tr>
		                                    </thead>
		                                    <tbody>
		                                    	<% for(BaseModel base : pagination.getListe()){ 
		                                    		Agent i = (Agent)base; %>
		                                        <tr>
		                                            <td><% out.print(i.getId()); %></td>
		                                            <td><% out.print(i.getNom()); %></td>
		                                            <td><% out.print(i.getAdresse()); %></td>
		                                            <td><% out.print(i.getPort()); %></td>
		                                            <td><% out.print(i.getRepertoire()); %></td>
		                                            <td><% out.print(i.getSyntaxe()); %></td>
		                                            <td>
		                                            	<a href="" class="btn btn-success m-l-20 waves-effect waves-light"><i class="fa fa-plug fa-fw" aria-hidden="true"></i>Connexion</a>
		                                            	<a href="${pageContext.request.contextPath}/Agent/<% out.print(i.getId()); %>" class="btn btn-primary m-l-20 waves-effect waves-light"><i class="fa fa-chevron-right fa-fw" aria-hidden="true"></i>Voir l'agent</a>
		                                            </td>
		                                        </tr>
		                                        <% }
		                                    	} %>
		                                    </tbody>
		                                </table>
		                            </div>
								</div>
				           </div>
				        </div>
				    </div>
				</div>
            </div>
            <!-- /.container-fluid -->
<%@ include file="../includes/footer.jsp" %>